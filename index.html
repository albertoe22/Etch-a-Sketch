<!DOCTYPE html>

<html>
    <head>
        <link rel="stylesheet" href = "style.css">
        <link href="https://fonts.googleapis.com/css?family=Noto+Sans+JP:300,500&display=swap" rel="stylesheet">
        <title>Etch-a-Sketch</title>
    </head>
    <body>
        <header>Etch-a-Sketch</header>
        <h1>by Albert Truong</h1>
        <button onclick = "reset()">Reset</button>
        <button onclick = "changeGrid()">Grid Size</button>
        <button onclick = "rainbowGrid()" >Rainbow</button>
        <label for = "colorWell" >Color:</label>
        <input type = "color" id = "colorWell" value = "#badfdb">
        <div id ="container"></div>
    </body>




<script>
    var initialColor = "#badfdb";
    var initialSize = 16;
    function createGrid(size, color) {
        for (var j = 0; j < size; j++) {
            var row = document.createElement("div")
            row.className = "row";
            for (var i = 0; i < size; i ++) {
                var div = document.createElement("div");
                div.className = "square";
                div.style.width = 500/size + "px";
                div.style.height = 500/size + "px";
                
                div.addEventListener("mouseover",function (e) {
                    if (color == "random") {
                        e.target.style.background = "rgb"+ randomColor();
                    }
                    e.target.style.background =  color;
                }); 
                row.appendChild(div);   
            }
            document.getElementById("container").appendChild(row);
        }

        

    }
    function rainbowGrid() {
        removeElementsByClass("row");
        createGrid(initialSize, "random");
    }

    function changeGrid() {
        //var size;
        var person = prompt("Please enter a number from 1-64", 1);
        //document.getElementsByClassName("square").innerHTML = "";
        removeElementsByClass("row");
        initialSize = person;
        createGrid(person,initialColor);
    }

    // Looked up this function to delete every element by class name
    function removeElementsByClass(className){
        var elements = document.getElementsByClassName(className);
        while(elements.length > 0) {
            elements[0].parentNode.removeChild(elements[0]);
    }
    }

    function reset() {
        var size = document.getElementsByClassName("square");
        for (var i = 0; i < size.length; i ++) {    
            size[i].style.backgroundColor = "white";
        }
        
    
    }


    function randomColor() {
        var color1 = Math.floor(Math.random()*255) + 1;
        var color2 = Math.floor(Math.random()*255) + 1;
        var color3 = Math.floor(Math.random()*255) + 1;
        var final = "(" + color1 + "," + color2+ "," + color3 + ")";
        return final;
    }

    function updateFirst(event) {   
        var thisColor = event.target.value;
        initialColor = thisColor +" ";
        removeElementsByClass("row");
        createGrid(initialSize, thisColor);
    }

    colorWell.addEventListener("input", updateFirst, false);


    createGrid(initialSize, initialColor);




</script>

</html>